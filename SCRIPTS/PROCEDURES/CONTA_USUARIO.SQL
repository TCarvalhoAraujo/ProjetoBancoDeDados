DELIMITER $$
CREATE PROCEDURE CONTA_USUARIO (IN ID_ARQ INT)
BEGIN
    IF (SELECT COUNT(*) FROM COMPARTILHAR WHERE ID_ARQUIVO = ID_ARQ) = 0 THEN
        SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Arquivo n√£o encontrado';
    ELSE
        SELECT 
        ID_ARQ AS 'id do arquivo',
		COUNT(DISTINCT ID_RECEPTOR) AS 'numero de usuarios'
        FROM COMPARTILHAR
        WHERE ID_ARQUIVO = ID_ARQ;
    END IF;
END $$
DELIMITER ;
